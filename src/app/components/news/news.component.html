<div class="collapse text-center bg-dark" id="sourceList">
    <div class="card source-list card-body">
        <button class="m-2 btn btn-danger" *ngIf="auth.isAdmin()" (click)="loadNewNews()">Load new</button>
        <button class="m-2 btn btn-primary" *ngIf="auth.isAdmin()" (click)="openAddSourceModal()">Adaugă</button>
        <div class="btn-group-toggle" *ngFor="let source of sources">
            <div class="mr-1 ml-1" (click)="sourceClick(source.name)"
            [ngClass]="source.selected ? 'btn btn-dark active' : 'btn btn-secondary'">
                {{source.name}}
            </div>
            <span *ngIf="auth.isAdmin()">
                <sup><button class="badge badge-danger" (click)="deleteSource(source.id)">Sterge</button></sup>
                <sub><button class="badge badge-info" (click)="openModifySourceModal(source)">Modifică</button></sub>
            </span>
        </div>
    </div>
    <button class="m-2 btn btn-primary" (click)="updateSources()">OK</button>
</div>
<form class="form-inline justify-content-center">
    <button class="btn btn-secondary m-2" type="button" data-toggle="collapse" data-target="#sourceList" aria-expanded="false" aria-controls="sourceList">
        Selectare Surse
    </button>
    <input class="form-control col-md-5 col-8" type="search" placeholder="Caută" aria-label="Search" [(ngModel)]="searchQuery" name="search">
    <button class="btn btn-outline-secondary m-2" (click)="search()">Caută</button>
</form>
<div class="text-center text-muted" *ngIf="noSources">
    Nici o sursă selectată!    
</div>
<div class="d-flex justify-content-center flex-wrap">
    <div *ngFor="let article of articles">
        <ng-template [ngIf]="_array.isArray(article)" [ngIfElse]="simpleArticle">
            <app-news-article-carousel
            [tuple] = "article">
            </app-news-article-carousel>
        </ng-template>
          
        <ng-template #simpleArticle>
            <app-news-article
            [article] = "article">
            </app-news-article>
        </ng-template> 
    </div>
</div>
<div class="text-center m-2" *ngIf="!noSources">
    <button class="btn btn-primary" (click)="loadMore()" [disabled] = "loadingMore">
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="loadingMore"></span>
        Încarcă mai multe
    </button>
</div>